<html>

<head>
  <meta name="viewport" content="width=device-width, initial-scale=0.75" />
  <title>Engine Gallery</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link rel="stylesheet" href="https://unpkg.com/reset-css@5.0.1/reset.css" />

  <link rel="stylesheet" href="engine.css">
  <link rel="stylesheet" href="gallery.css">

</head>

<body>
  
<img src="tutorial.gif" id="help">
  
  <div id="gamelist">
    <div class="_games">
      <a class="_close" onclick="$('#gamelist').fadeOut()">X click me 2 close </a>
      <a href="https://engine.lol">go back to main engine</a>
      <a href="https://engine.lol/submit">submit your own game here</a>
      
      <div class="__games">
    <a data-name="04102022">04102022 </a>
    <a data-name="1979EXCERPT">1979 EXCERPT by evan kirkiles </a>
    <a data-name="birthdayparty">birthday party</a>
    <a data-name="blindfaith">blind faith</a>
    <a data-name="bliposworld">bliposworld by kalo</a>
    <a data-name="C22">C22</a>
    <a data-name="datenight">datenight by deliah</a>
    <a data-name="dontbescared">dontbescared by toby</a>
    <a data-name="feverdream">feverdream by frankie yoshi</a>
    <a data-name="findthecat">find the cat</a>
    <a data-name="garden">garden by kevin</a>
    <a data-name="goodgrief">good grief by karren !</a>
    <a data-name="itsokaytobethirdargon">It's Okay to be Third, Argon by CR Brown</a>
    <a data-name="killtheclocks">kill the clocks by Rory Green</a>
    <a data-name="magmagun">magmagun</a>
    <a data-name="manilascorings">manila scorings by sourdoughgames</a>
    <a data-name="meandengine">me and engine by chia</a>
    <a data-name="mybrotherwenttofighttheking">my brother went to fight the king by rebecca m</a>
    <a data-name="newkid">new kid by milk productions</a>
    <a data-name="oftimeandspacescloudandmemories">Of time and spaces, clouds and memories by Leonardo</a>
    <a data-name="wakingup">Waking Up by Waneishi</a>
        </div>
      </div>
  </div>
  

  <div id="engine">
    <a href="https://engine.lol" id="_name" title="that's me">
      Engine
    </a>
  </div>

  <div id="tutorial">
  </div>
  
  <div id="webring">
    <a class="_gallery" onclick="$('#gamelist').fadeIn()">see all games</a>
    <a class="_random" onclick="location.reload()">surprise me!</a>
    
    <a class="_help" onclick="help()">how to play</a>
  </div>

  <div class="wrapper">
    <iframe id="game" src=""></iframe>
  </div>
  
  <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
  <script type="text/javascript">
    
    var proj = ["04102022", "1979EXCERPT", "bliposworld", "dontbescared", "datenight", "feverdream", "garden", "goodgrief", "killtheclocks", "magmagun", "meandengine", "manilascorings", "birthdayparty", "findthecat", "blindfaith", "oftimeandspacescloudandmemories", "mybrotherwenttofighttheking", "wakingup", "newkid", "itsokaytobethirdargon", "C22"];
    
    
    function swap(what){
    $("#_name").text(what);
    $(document).prop('title', what + " on engine.lol");
      
       $("iframe#game").attr("src", "gallery/" + what + ".html");
      
      let now = proj.indexOf(active);
      
      $("a._forward").attr("data-n", now + 1);
      $("a._previous").attr("data-n", now - 1);
      
        // edge cases
      if(now == 0){
      $("a._previous").attr("data-n", proj.length - 1 );
      }
      
       if(now == proj.length - 1){
      $("a._forward").attr("data-n", 0 );
      }
    }
    
    
$(document).ready(function () {
  
    // choose a random project to start
    let active = proj[Math.floor(Math.random()*proj.length)];
  
  // check if url has something special
  if (window.location.href.indexOf("?=") > -1)  {
    let wooOoowowow = $(location).attr("href").split("=")[1];
    //check if valid
    if(proj.includes(wooOoowowow)){
    active = wooOoowowow;      
    $(document).prop('title', active + ' on engine.lol');
      
    } else{
      console.log("Invalid game given")
    }
  }
    
    // set iframe to active
    swap(active);
  
    
    $("a.nav").on("click", function(){
      swap( proj[$(this).attr("data-n")] );
    });
});
    
    // help
    
    function help(){
      $("#help").fadeIn();
    }
    
    $("#help").on("click", function(){
      $(this).fadeOut();
    })
    
    // game list
    $("#gamelist .__games a").on("click", function(){
      
      let t = $(this).attr("data-name");
      $("#gamelist").fadeOut();
      
      swap(t);
      $("#_name").text(t);
      
      
    });
    
  </script>

</body></html>